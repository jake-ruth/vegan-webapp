(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,a){e.exports=a(186)},131:function(e,t,a){},132:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),i=(a(131),a(119)),o=a(213),s=(a(132),a(82)),u=a(17),m=a(9),p=a(46),d=a.n(p),g=function(){var e=r.a.useState(""),t=Object(m.a)(e,2),a=t[0],n=t[1],l=r.a.useState(""),c=Object(m.a)(l,2),i=c[0],o=c[1];return r.a.createElement("div",{className:"login"},r.a.createElement("img",{src:"".concat("","/veggies.jpg"),className:"login__img"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d.a.post("".concat("https://vegan-webapp.herokuapp.com","/login"),{email:a,password:i}).then((function(e){return console.log(e)}))},className:"login__form container"},r.a.createElement("h2",null,"Log into Plant Based Plate"),r.a.createElement("div",{className:"floating-label"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",name:"email",onChange:function(e){return n(e.target.value)}})),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"text",name:"password",onChange:function(e){return o(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement("div",{className:"sign-up-link"},"Don't have an account yet? Sign up ",r.a.createElement("a",{href:"/register"},"here"))))},E=function(){var e=r.a.useState(""),t=Object(m.a)(e,2),a=(t[0],t[1]),n=r.a.useState(""),l=Object(m.a)(n,2),c=(l[0],l[1]),i=r.a.useState(""),o=Object(m.a)(i,2),s=(o[0],o[1],r.a.useState("")),u=Object(m.a)(s,2),p=(u[0],u[1]),d=r.a.useState(""),g=Object(m.a)(d,2),E=(g[0],g[1]);return r.a.createElement("div",{className:"login"},r.a.createElement("img",{src:"".concat("","/veggies.jpg"),className:"login__img"}),r.a.createElement("form",{onSubmit:function(){},className:"login__form"},r.a.createElement("h2",null,"Register Account"),r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"text",placeholder:"Enter first name...",onChange:function(e){return p(e.target.value)}}),r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"text",placeholder:"Enter last name...",onChange:function(e){return E(e.target.value)}}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",placeholder:"Enter email...",onChange:function(e){return a(e.target.value)}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter password...",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",placeholder:"Enter password...",onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement("div",{className:"sign-up-link"},"Already have an account? Sign in ",r.a.createElement("a",{href:"/login"},"here"))))},h=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("a",{href:"/",className:"logo"},r.a.createElement("img",{src:"".concat("","/logo.svg"),style:{width:"250px"}})),r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav__links"},r.a.createElement("li",null,r.a.createElement("a",{href:"/createRecipe"},"Create Recipe")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Recipes")),r.a.createElement("li",null,r.a.createElement("a",{href:"/about"},"About")))),r.a.createElement("a",{className:"cta",href:"/loginPage"},r.a.createElement("button",{className:"btn-primary"},"Log In")))},f=a(217),v=a(39),b=function(e){var t=r.a.useState(""),a=Object(m.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!0),i=Object(m.a)(c,2),o=i[0],s=i[1];return r.a.useEffect((function(){console.log("REC:",e.recipe);var t=v.a.storage();console.log("STORE: ",t),t.refFromURL("gs://vegan-webapp.appspot.com/".concat(e.recipe.imageUrlUuid,".").concat(e.recipe.imageExtension)).getDownloadURL().then((function(e){console.log(e),l(e),s(!1)}))}),[e.pageTrigger]),o?null:r.a.createElement("a",{className:"recipe-card",href:"/viewRecipe/".concat(e.recipe.id)},r.a.createElement("img",{className:"recipe-card__image",src:n}),r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,r.a.createElement("b",null,e.recipe.title)),r.a.createElement("div",{className:"recipe-card__description"},r.a.createElement("p",null,e.recipe.description)),r.a.createElement("p",{style:{fontStyle:"italic"}},"Prep time: ",e.recipe.prepMinutes," min."),r.a.createElement("p",{style:{fontStyle:"italic"}},"Cook time: ",e.recipe.cookMinutes," min."),r.a.createElement(f.a,{name:"read-only",value:5,readOnly:!0})))},y=function(){return r.a.createElement("div",{className:"footer-container"},r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{style:{textAlign:"center"}},"Plant Based Plates 2020")))},w=a(11),N=a.n(w),j=a(22),R=a(115),S=function e(){Object(R.a)(this,e)};S.pageRecipes=function(){var e=Object(j.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat("https://vegan-webapp.herokuapp.com","/pageRecipes/").concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S.pageRecipesByName=function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat("https://vegan-webapp.herokuapp.com","/pageRecipesByName/").concat(t,"/").concat(a));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("ERR: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),S.getRecipeById=function(){var e=Object(j.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat("https://vegan-webapp.herokuapp.com","/getRecipeById/").concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S.createRecipe=function(){var e=Object(j.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",d.a.post("".concat("https://vegan-webapp.herokuapp.com","/createRecipe"),t));case 4:e.prev=4,e.t0=e.catch(0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}();var k=a(216),O=a(116),x=a.n(O),_=function(){var e=r.a.useState([]),t=Object(m.a)(e,2),a=t[0],n=t[1],l=r.a.useState(0),c=Object(m.a)(l,2),i=c[0],o=c[1],s=r.a.useState(0),u=Object(m.a)(s,2),p=u[0],d=u[1],g=r.a.useState(""),E=Object(m.a)(g,2),f=E[0],v=E[1],w=r.a.useState(!1),N=Object(m.a)(w,2),j=N[0],R=N[1],O=r.a.useState(!0),_=Object(m.a)(O,2),C=_[0],I=_[1];r.a.useEffect((function(){M()}),[i]);var M=function(){S.pageRecipes(i).then((function(e){I(!0),n(e.data.recipes),d(e.data.totalCount),R(!j),I(!1)}))};return C?null:r.a.createElement("div",{className:"home-page"},r.a.createElement(h,null),r.a.createElement("div",{className:"contain"},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",margin:"10px"}},r.a.createElement("div",{className:"home-page__search-bar"},r.a.createElement(x.a,{style:{borderRadius:3},value:f,onChange:function(e){return v(e)},onRequestSearch:function(){f.length>0&&S.pageRecipesByName(i,f).then((function(e){n(e.data.recipes),d(e.data.totalCount),R(!j)}))},onCancelSearch:function(){v(""),M()},placeholder:"Search for a recipe..."}))),r.a.createElement("div",{className:"recipe-card-container"},a.map((function(e,t){return r.a.createElement(b,{pageTrigger:j,key:t,recipe:e})})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"1em"}},r.a.createElement(k.a,{count:Math.ceil(p/8),color:"primary",shape:"rounded",page:i+1,onChange:function(e,t){console.log(t),o(t-1)}})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"1em"}},r.a.createElement("div",null,p," total ",1===p?"recipe":"recipes")),r.a.createElement(y,null))},C=a(120),I=function(e){return r.a.createElement("div",{className:e.visible?"modal-background-active":"modal-background"},r.a.createElement("div",{className:"modal"},e.children,r.a.createElement("span",{className:"modal-close",onClick:function(){return e.setVisible&&e.setVisible(!1)}},r.a.createElement(C.a,null))))},M=function(){var e=r.a.useState(!1),t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"about-page"},r.a.createElement(h,null),r.a.createElement("div",null,r.a.createElement("h1",null,"About Us"),r.a.createElement("div",{className:"about-page__content"},r.a.createElement("p",{className:"about-page__description"},"Plant based plates is a web app created by myself (Jake Ruth) as a way to bring plant based eaters together to share recipes, insights, and spread the joy of vegan cooking! I have found immense joy in creating meals are low cost, ethical, and better for the environment! Eating plant based is a great and easy way to do all of these things. My hope is that with our community, we can grow a large collection of plant based recipes to show the world that you don't have to restrict to eat a vegan diet! :)"),r.a.createElement("div",{className:"about-page__contact"},r.a.createElement("h2",null,"Contact Us!"),r.a.createElement("p",null,"Send an email to ",r.a.createElement("strong",null,"plantbasedplates@gmail.com")," for feedback and suggestions"),r.a.createElement("button",{className:"btn-primary",onClick:function(){return n(!0)}},"Sign up for mailing list!")))),r.a.createElement("div",{className:"footer-fixed"},r.a.createElement(y,null)),r.a.createElement(I,{visible:a,setVisible:n},r.a.createElement("h2",null,"Subscribe to our mailing list!"),r.a.createElement("label",null,"Enter your email:"),r.a.createElement("input",{type:"text"}),r.a.createElement("button",{className:"btn-primary",onClick:function(){return n(!a)}},"Submit")))},T=function(e){var t=r.a.useState(null),a=Object(m.a)(t,2),n=a[0],l=a[1],c=r.a.useState(""),i=Object(m.a)(c,2),o=i[0],s=i[1],u=r.a.useState(!0),p=Object(m.a)(u,2),d=p[0],g=p[1];return r.a.useEffect((function(){o.length>0&&g(!1)}),[o]),r.a.useEffect((function(){S.getRecipeById(e.match.params.recipeId).then((function(e){l(e.data),v.a.storage().refFromURL("gs://vegan-webapp.appspot.com/".concat(e.data.imageUrlUuid,".").concat(e.data.imageExtension)).getDownloadURL().then((function(e){console.log(e),s(e)}))})).catch((function(e){return console.log(e)}))}),[]),null==n||d?null:r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{className:"view-recipe"},r.a.createElement("div",{className:"view-recipe__header"},r.a.createElement("img",{src:o,style:{objectFit:"cover"},alt:"recipe image",className:"view-recipe__img"}),r.a.createElement("div",null,r.a.createElement("h1",null,null===n||void 0===n?void 0:n.title),r.a.createElement("p",null,"Prep Time: ",null===n||void 0===n?void 0:n.prepMinutes," minutes"),r.a.createElement("p",null,"Cook Time: ",null===n||void 0===n?void 0:n.cookMinutes," minutes"),r.a.createElement("p",null,"Total Time: ",Number(null===n||void 0===n?void 0:n.prepMinutes)+Number(null===n||void 0===n?void 0:n.cookMinutes)," minutes"))),r.a.createElement("div",null,n.description),r.a.createElement("hr",null),r.a.createElement("div",{className:"view-recipe__content"},r.a.createElement("div",{className:"view-recipe__item"},r.a.createElement("h2",null,"Ingredients:"),r.a.createElement("ul",null,null===n||void 0===n?void 0:n.ingredients.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"view-recipe__item"},r.a.createElement("h2",null,"Instructions:"),r.a.createElement("p",{className:"view-recipe__instructions"},null===n||void 0===n?void 0:n.instructions)))),r.a.createElement(y,null))},P=a(24),U=a(214),A=a(215),B=function(){var e=Object(P.e)(),t=e.control,a=e.errors,n=Object(P.c)({control:t,name:"ingredients"}),l=n.fields,c=n.append,i=n.remove;return r.a.createElement("div",{className:"create-recipe__content"},r.a.createElement("div",{className:"create-recipe__section"},r.a.createElement(P.a,{as:A.a,control:t,rules:{required:"Title Required"},type:"text",id:"title",name:"title",label:"Title",fullWidth:!0}),r.a.createElement("div",{className:"error"},a.title&&a.title.message),r.a.createElement(P.a,{as:A.a,control:t,multiline:!0,fullWidth:!0,variant:"outlined",rows:5,style:{marginTop:20},name:"description",label:"Description",rules:{required:"Description Required"}}),r.a.createElement("div",{className:"error"},a.description&&a.description.message),r.a.createElement(P.a,{as:A.a,control:t,multiline:!0,fullWidth:!0,variant:"outlined",rows:10,style:{marginTop:20},name:"instructions",label:"Instructions",rules:{required:"Instructions Required"}}),r.a.createElement("div",{className:"error"},a.description&&a.description.message)),r.a.createElement("div",{className:"create-recipe__section"},r.a.createElement("h3",{style:{fontStyle:"italic"}},"Prep Time"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(P.a,{as:A.a,control:t,type:"number",name:"prepHours",label:"Hours",defaultValue:0}),r.a.createElement(P.a,{as:A.a,control:t,type:"number",name:"prepMinutes",label:"Minutes",defaultValue:0})),r.a.createElement("h3",{style:{fontStyle:"italic"}},"Cook Time"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(P.a,{as:A.a,control:t,type:"number",name:"cookHours",label:"Hours",defaultValue:0}),r.a.createElement(P.a,{as:A.a,control:t,type:"number",name:"cookMinutes",label:"Minutes",defaultValue:0})),r.a.createElement(P.a,{as:A.a,control:t,name:"yieldAmount",label:"Yield"}),r.a.createElement("h3",{style:{fontStyle:"italic"}},"Ingredients"),l.map((function(e,a){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(P.a,{as:A.a,fullWidth:!0,name:"ingredients[".concat(a,"].value"),control:t}),r.a.createElement(U.a,{variant:"contained",size:"small",style:{borderRadius:0},color:"secondary",onClick:function(){return i(a)}},"Delete"))})),r.a.createElement(U.a,{type:"button",style:{marginTop:"1em"},variant:"contained",color:"primary",size:"small",onClick:function(){return c({value:""})}},"Add Ingredient")))},F=a(117),L=a.n(F),V=(a(184),a(118)),D=a.n(V),W=function(e){var t,a,l=e.setRecipeImageFile,c=Object(n.useState)(),i=Object(m.a)(c,2),o=i[0],s=i[1],u=Object(n.useRef)(null),p=Object(n.useRef)(null),d=Object(n.useState)({unit:"%",width:30,aspect:1}),g=Object(m.a)(d,2),E=g[0],h=g[1],f=Object(n.useState)(null),v=Object(m.a)(f,2),b=v[0],y=v[1],w=window.devicePixelRatio||1;function N(e,t){t&&e&&function(e,t,a){var n=document.createElement("canvas");n.width=t,n.height=a;var r=n.getContext("2d");try{e.width>0&&e.height>0&&r.drawImage(e,0,0,e.width,e.height,0,0,t,a)}catch(l){alert(l)}return n}(e,t.width,t.height).toBlob((function(e){var t=new File([e],"png",{type:"image/png"});l(t)}),"image/png",1)}var j=Object(n.useCallback)((function(e){u.current=e}),[]);return Object(n.useEffect)((function(){if(b&&p.current&&u.current){var e=u.current,t=p.current,a=b,n=e.naturalWidth/e.width,r=e.naturalHeight/e.height,l=t.getContext("2d");t.width=a.width*w,t.height=a.height*w,l.setTransform(w,0,0,w,0,0),l.imageSmoothingQuality="high",l.drawImage(e,a.x*n,a.y*r,a.width*n,a.height*r,0,0,a.width,a.height),N(p.current,b)}}),[b]),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},type:"file",id:"raised-button-file",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return s(t.result)})),t.readAsDataURL(e.target.files[0])}}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(U.a,{endIcon:r.a.createElement(D.a,null),style:{borderRadius:0,marginTop:10},variant:"contained",component:"span"},"Upload Photo"))),r.a.createElement(L.a,{src:o,onImageLoaded:j,crop:E,onChange:function(e){return h(e)},onComplete:function(e){return y(e)}}),r.a.createElement("div",null,r.a.createElement("canvas",{ref:p,style:{width:Math.round(null!==(t=null===b||void 0===b?void 0:b.width)&&void 0!==t?t:0),height:Math.round(null!==(a=null===b||void 0===b?void 0:b.height)&&void 0!==a?a:0),display:"none"}})))},q=function(){var e=Object(P.d)({defaultValues:{ingredients:[{value:""}]}}),t=Object(u.f)(),a=r.a.useState(null),n=Object(m.a)(a,2),l=n[0],c=n[1],i=function(e){var t=l.name.split(".").pop();v.a.storage().ref().child("".concat(e,".").concat(t)).put(l).then((function(e){return console.log(e)}))},o=function(){var e=Object(j.a)(N.a.mark((function e(a,n){var r,c,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=[];return a.ingredients.map((function(t){e.push(t.value)})),e},c={title:a.title,description:a.description,cookMinutes:Number(a.cookMinutes)+60*a.cookHours,prepMinutes:Number(a.prepMinutes)+60*a.prepHours,ingredients:r(),instructions:a.instructions,yieldAmount:a.yieldAmount,imageExtension:l.name.split(".").pop()},e.prev=2,e.next=5,S.createRecipe(c);case 5:o=e.sent,i(o.data.imageUrlUuid),t.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERR: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("form",{onSubmit:e.handleSubmit(o)},r.a.createElement("h1",{style:{textAlign:"center"}},"Create Recipe"),r.a.createElement("div",{className:"create-recipe"},r.a.createElement(P.b,e,r.a.createElement(B,null)),r.a.createElement("br",null),r.a.createElement(W,{setRecipeImageFile:c}),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",style:{borderRadius:0,maxWidth:200,marginTop:"1em"}},"Save Recipe!"))))},H=function(){return r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:_}),r.a.createElement(u.a,{path:"/loginPage",component:g}),r.a.createElement(u.a,{path:"/register",component:E}),r.a.createElement(u.a,{path:"/about",component:M}),r.a.createElement(u.a,{path:"/viewRecipe/:recipeId",component:T}),r.a.createElement(u.a,{path:"/createRecipe",component:q})))};var z=function(){var e=Object(i.a)({palette:{primary:{main:"#303030"},secondary:{main:"#FF5E5B"},error:{main:"#FF5E5B"},success:{main:"#20b2aa"}},typography:{fontFamily:["Verdana"].join(",")}});return v.a.initializeApp({apiKey:"AIzaSyAkL0lof7kkTmXwPw_xsyf57ZkrUwIbVxo",authDomain:"vegan-webapp.firebaseapp.com",databaseURL:"https://vegan-webapp.firebaseio.com",projectId:"vegan-webapp",storageBucket:"vegan-webapp.appspot.com",messagingSenderId:"29504851544",appId:"1:29504851544:web:f3981ecbd3eb6f51c7042d",measurementId:"G-2B8615KNJN"}),r.a.createElement("header",{"data-testid":"app-element"},r.a.createElement(o.a,{theme:e},r.a.createElement(H,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.8546d13d.chunk.js.map